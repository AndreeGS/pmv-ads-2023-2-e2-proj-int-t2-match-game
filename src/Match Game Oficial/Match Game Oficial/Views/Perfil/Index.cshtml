@model Match_Game_Oficial.Models.Usuario

@{
    ViewData["Title"] = "Detalhes do Perfil";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <h4>Usuario</h4>
    <hr />
    <dl class="row" id="perfil-details">
        <!-- Os detalhes do perfil serão adicionados aqui dinamicamente -->
    </dl>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<script>
    $(document).ready(function () {
        $.ajax({
            url: "@Url.Action("DetalhesPerfil", "Perfil")",
            type: "GET",
            dataType: "json",
            success: function (data) {
                console.log("Dados do perfil:", data);

                // Criar elementos HTML com os dados recebidos, incluindo a foto
                var profileDetails = `
                        <dt class="col-sm-2">Nome</dt>
                        <dd class="col-sm-10">${data.nome}</dd>
                        <dt class="col-sm-2">Email</dt>
                        <dd class="col-sm-10">${data.email}</dd>
                        <dt class="col-sm-2">Data de Nascimento</dt>
                        <dd class="col-sm-10">${data.data_Nascimento}</dd>
                        <dt class="col-sm-2">Foto</dt>
                        <dd class="col-sm-10"><img src="data:image/jpeg;base64,${data.foto}" alt="Foto do usuário"></dd>
                    `;

                // Adicionar os detalhes do perfil ao elemento com id "perfil-details"
                $("#perfil-details").html(profileDetails);
            },
            error: function (error) {
                console.log("Erro ao chamar DetalhesPerfil:", error);
            }
        });
    });
</script>
